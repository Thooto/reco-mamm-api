(function(e){function t(t){for(var r,i,o=t[0],u=t[1],c=t[2],d=0,p=[];d<o.length;d++)i=o[d],s[i]&&p.push(s[i][0]),s[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==s[u]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},s={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},a=[],i={name:"app"},o=i,u=(n("6294"),n("2877")),c=Object(u["a"])(o,s,a,!1,null,null,null),l=c.exports,d=n("8c4f"),p=n("2f62");r["default"].use(p["a"]);var m=new p["a"].Store({state:{token:localStorage.token,logged:!1,url:"http://api.localhost:3000"},mutations:{login:function(e,t){localStorage.token=t,e.token=t,e.logged=!0},logout:function(e){localStorage.token=null,e.token=null,e.logged=!1}},actions:{login:function(e,t){e.commit("login",t)},logout:function(e){e.commit("logout")}}}),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"hero is-fullheight"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-4 is-offset-4"},[n("form",{staticClass:"box",on:{submit:e.login}},[n("p",{staticClass:"title is-5 has-text-primary"},[e._v("Connexion administrateur")]),n("b-field",{attrs:{label:"E-mail",message:e.emailMessage,type:e.emailType}},[n("b-input",{attrs:{required:"",type:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),n("b-field",{attrs:{label:"Mot de passe",message:e.passwordMessage,type:e.passwordType}},[n("b-input",{attrs:{required:"",type:"password","password-reveal":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("input",{staticClass:"button is-fullwidth",attrs:{type:"submit",value:"Se connecter"}})],1)])])])])])},f=[],v=n("bc3a"),g=n.n(v),b={name:"login",data:function(){return{email:null,password:null,emailType:null,emailMessage:null,passwordType:null,passwordMessage:null}},methods:{login:function(e){var t=this;e.preventDefault(),g.a.post(this.$store.state.url+"/login",{email:this.email,password:this.password}).then(function(e){var n=e.data;t.$store.dispatch("login",n.token),t.$router.push("/")}).catch(function(e){"Admin not found"==e.response.data&&(t.emailMessage="Cet administrateur n'existe pas.",t.emailType="is-danger"),"Wrong password"==e.response.data&&(t.passwordMessage="Ce mot de passe est incorrect.",t.passwordType="is-danger")})}},watch:{email:function(){this.emailMessage=null,this.emailType=null},password:function(){this.passwordMessage=null,this.passwordType=null}}},w=b,y=Object(u["a"])(w,h,f,!1,null,null,null),x=y.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("navbar"),n("router-view")],1)},C=[],_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[n("div",{staticClass:"navbar-brand"},[e._m(0),n("a",{staticClass:"navbar-burger burger",class:e.activeClass,on:{click:e.toggle}},[n("span"),n("span"),n("span")])]),n("div",{staticClass:"navbar-menu",class:e.activeClass},[n("div",{staticClass:"navbar-start"},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[e._v("Formulaire")]),n("router-link",{staticClass:"navbar-item",attrs:{to:"/profils"}},[e._v("Profils & résultats")]),n("router-link",{staticClass:"navbar-item",attrs:{to:"/visualisation"}},[e._v("Data visualization")])],1),n("div",{staticClass:"navbar-end"},[n("div",{staticClass:"navbar-item"},[n("div",{staticClass:"buttons"},[n("router-link",{staticClass:"button",attrs:{to:"/deconnexion"}},[e._v("Déconnexion")])],1)])])])])},$=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"navbar-item",attrs:{href:"https://reco-mamm.herokuapp.com"}},[n("strong",[e._v("Voir le site")])])}],j={name:"navbar",data:function(){return{isActive:!1}},methods:{toggle:function(){this.isActive=!this.isActive}},computed:{activeClass:function(){return this.isActive?"is-active":""}}},q=j,O=Object(u["a"])(q,_,$,!1,null,null,null),R=O.exports,A={name:"dashboard",components:{Navbar:R}},M=A,D=Object(u["a"])(M,k,C,!1,null,null,null),S=D.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section"},[n("div",{staticClass:"container"},[n("form",{staticClass:"box",on:{submit:e.createCategory}},[n("p",{staticClass:"title is-6"},[e._v("Nouvelle catégorie")]),n("b-field",[n("b-input",{attrs:{required:"",placeholder:"Nom"},model:{value:e.category.name,callback:function(t){e.$set(e.category,"name",t)},expression:"category.name"}})],1),n("input",{staticClass:"button is-fullwidth",attrs:{type:"submit",value:"Ajouter"}})],1),e._m(0),n("b-table",{ref:"categories",attrs:{data:e.categories,"opened-detailed":e.defaultOpenedDetails,detailed:"","detail-key":"id","show-detail-icon":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b-table-column",{attrs:{field:"name",label:"Catégories"}},[t.row.editing?n("b-field",[n("b-input",{attrs:{placeholder:"Nom de la catégorie"},model:{value:t.row.name,callback:function(n){e.$set(t.row,"name",n)},expression:"props.row.name"}})],1):n("a",{on:{click:function(n){return e.toggle(t.row)}}},[e._v(e._s(t.row.name))])],1)]}},{key:"detail",fn:function(t){return[n("category",{attrs:{category:t.row},on:{destroy:function(n){return e.destroyCategory(t.index)},move:function(n){var r=arguments.length,s=Array(r);while(r--)s[r]=arguments[r];return e.moveCategory.apply(void 0,[t.index].concat(s))}}})]}}])})],1)])},Q=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notification has-text-justified"},[n("p",[e._v("Les catégories et les questions seront affichées selon l'ordre dans le tableau suivant.")]),n("p",{staticClass:"is-size-7"},[n("strong",[e._v("Appuyer sur son nom pour ouvrir un élément.")])])])}],I=n("cebc"),U=(n("96cf"),n("3b8d")),T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"level is-marginless"},[n("div",{staticClass:"level-left"},[n("div",{staticClass:"buttons"},[n("button",{staticClass:"button is-small is-outlined",class:e.editClass,on:{click:e.edit}},[e._v(e._s(e.editMessage))]),e.category.editing?n("div",[n("button",{staticClass:"button is-small is-outlined is-danger",on:{click:e.destroy}},[e._v("Supprimer")])]):e._e()])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"buttons"},[n("button",{staticClass:"button is-small is-outlined",on:{click:e.add}},[e._v("Ajouter une question")]),n("button",{staticClass:"button is-small is-outlined is-info",on:{click:function(t){return e.move("down")}}},[e._v("Descendre")]),n("button",{staticClass:"button is-small is-outlined is-info",on:{click:function(t){return e.move("up")}}},[e._v("Monter")])])])]),e.adding?n("div",{staticClass:"box"},[n("form",{on:{submit:e.createQuestion}},[n("b-field",{attrs:{grouped:"","group-multiline":""}},[n("b-input",{attrs:{required:"",expanded:"",size:"is-small",placeholder:"Nom de la question"},model:{value:e.question.name,callback:function(t){e.$set(e.question,"name",t)},expression:"question.name"}}),n("div",{staticClass:"control"},[n("input",{staticClass:"button is-small is-outlined is-success",attrs:{type:"submit",value:"Valider"}})]),n("div",{staticClass:"control"},[n("button",{staticClass:"button is-small is-outlined",on:{click:e.cancel}},[e._v("Fermer")])])],1)],1)]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.questions.length,expression:"questions.length"}],staticClass:"box"},[n("b-table",{ref:"questions",attrs:{data:e.questions,"opened-detailed":e.defaultOpenedDetails,detailed:"","detail-key":"id","show-detail-icon":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b-table-column",{attrs:{field:"id",label:"ID",width:"10",numeric:""}},[e._v(e._s(t.row.id))]),n("b-table-column",{attrs:{field:"name",label:"Questions"}},[t.row.editing?n("b-field",[n("b-input",{attrs:{placeholder:"Intitulé de la question"},model:{value:t.row.name,callback:function(n){e.$set(t.row,"name",n)},expression:"props.row.name"}})],1):n("a",{on:{click:function(n){return e.toggle(t.row)}}},[e._v(e._s(t.row.name))])],1)]}},{key:"detail",fn:function(t){return[n("question",{attrs:{question:t.row},on:{destroy:function(n){return e.destroyQuestion(t.index)},move:function(n){var r=arguments.length,s=Array(r);while(r--)s[r]=arguments[r];return e.moveQuestion.apply(void 0,[t.index].concat(s))}}})]}}])})],1)])},V=[],P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"level is-marginless"},[n("div",{staticClass:"level-left"},[n("div",{staticClass:"buttons"},[n("button",{staticClass:"button is-small is-outlined",class:e.editClass,on:{click:e.edit}},[e._v(e._s(e.editMessage))]),e.question.editing?n("div",[n("button",{staticClass:"button is-small is-outlined is-danger",on:{click:e.destroy}},[e._v("Supprimer")])]):e._e()])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"buttons"},[n("button",{staticClass:"button is-small is-outlined",on:{click:e.add}},[e._v("Ajouter une réponse")]),n("button",{staticClass:"button is-small is-outlined is-info",on:{click:function(t){return e.move("down")}}},[e._v("Descendre")]),n("button",{staticClass:"button is-small is-outlined is-info",on:{click:function(t){return e.move("up")}}},[e._v("Monter")])])])]),e.adding?n("div",{staticClass:"box"},[n("form",{on:{submit:e.validate}},[n("b-field",[n("b-input",{attrs:{required:"",expanded:"",size:"is-small",placeholder:"Réponse"},model:{value:e.answer.name,callback:function(t){e.$set(e.answer,"name",t)},expression:"answer.name"}})],1),n("b-field",[n("b-input",{attrs:{size:"is-small",placeholder:"Explications",type:"textarea"},model:{value:e.answer.explanation,callback:function(t){e.$set(e.answer,"explanation",t)},expression:"answer.explanation"}})],1),n("b-field",[n("div",{staticClass:"control"},[n("input",{staticClass:"button is-small is-outlined is-success",attrs:{type:"submit",value:"Valider"}})]),n("div",{staticClass:"control"},[n("button",{staticClass:"button is-small is-outlined",on:{click:e.cancel}},[e._v("Fermer")])])])],1)]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.answers.length,expression:"answers.length"}],staticClass:"box"},[n("b-table",{ref:"answers",attrs:{data:e.answers,"opened-detailed":e.defaultOpenedDetails,detailed:"","detail-key":"id","show-detail-icon":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b-table-column",{attrs:{field:"name",label:"Réponses"}},[t.row.editing?n("b-field",[n("b-input",{attrs:{placeholder:"Intitulé de la réponse"},model:{value:t.row.name,callback:function(n){e.$set(t.row,"name",n)},expression:"props.row.name"}})],1):n("a",{on:{click:function(n){return e.toggle(t.row)}}},[e._v(e._s(t.row.name))])],1)]}},{key:"detail",fn:function(t){return[n("answer",{attrs:{answer:t.row},on:{destroy:function(n){return e.destroyAnswer(t.index)},move:function(n){var r=arguments.length,s=Array(r);while(r--)s[r]=arguments[r];return e.moveAnswer.apply(void 0,[t.index].concat(s))}}})]}}])})],1)])},z=[],N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"level is-marginless"},[n("div",{staticClass:"level-left"},[n("div",{staticClass:"buttons"},[n("button",{staticClass:"button is-small is-outlined",class:e.editClass,on:{click:e.edit}},[e._v(e._s(e.editMessage))]),e.answer.editing?n("div",[n("button",{staticClass:"button is-small is-outlined is-danger",on:{click:e.destroy}},[e._v("Supprimer")])]):e._e()])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"buttons"},[n("button",{staticClass:"button is-small is-outlined is-info",on:{click:function(t){return e.move("down")}}},[e._v("Descendre")]),n("button",{staticClass:"button is-small is-outlined is-info",on:{click:function(t){return e.move("up")}}},[e._v("Monter")])])])]),e.answer.editing?n("div",[n("b-field",[n("b-input",{attrs:{type:"textarea",placeholder:"Explications supplémentaires"},model:{value:e.answer.explanation,callback:function(t){e.$set(e.answer,"explanation",t)},expression:"answer.explanation"}})],1),n("b-field",[n("b-input",{attrs:{placeholder:"Question suivant cette réponse (ID)"},model:{value:e.answer.nextId,callback:function(t){e.$set(e.answer,"nextId",t)},expression:"answer.nextId"}})],1)],1):n("div",[n("p",[e._v(e._s(e.answer.explanation))]),e.answer.nextId?n("p",[n("strong",[e._v("Question suivant cette réponse :")]),e._v(" "+e._s(e.answer.nextId))]):e._e()])])},F=[],J={url:m.state.url,headers:{Authorization:"Bearer "+m.state.token},getForm:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(this.url+"/form");case 2:return t=e.sent,n=t.data,e.abrupt("return",n.form);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),createCategory:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(this.url+"/admin/category",{category:t},{headers:this.headers});case 2:return n=e.sent,r=n.data,e.abrupt("return",r.category);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),destroyCategory:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.index,e.next=3,g.a.delete(this.url+"/admin/category/".concat(n),{headers:this.headers});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),renameCategory:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch(this.url+"/admin/category",{category:t,action:"rename"},{headers:this.headers});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),moveCategory:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch(this.url+"/admin/category",{index:t,direction:n,action:"move"},{headers:this.headers});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),createQuestion:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(this.url+"/admin/question",{question:t},{headers:this.headers});case 2:return n=e.sent,r=n.data,e.abrupt("return",r.question);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),destroyQuestion:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.index,r=t.categoryId,e.next=3,g.a.delete(this.url+"/admin/category/".concat(r,"/question/").concat(n),{headers:this.headers});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),renameQuestion:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch(this.url+"/admin/question",{question:t,action:"rename"},{headers:this.headers});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),moveQuestion:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch(this.url+"/admin/question",{index:t,direction:n,categoryId:r,action:"move"},{headers:this.headers});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,n,r){return e.apply(this,arguments)}return t}(),createAnswer:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(this.url+"/admin/answer",{answer:t},{headers:this.headers});case 2:return n=e.sent,r=n.data,e.abrupt("return",r.answer);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),destroyAnswer:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.index,r=t.questionId,e.next=3,g.a.delete(this.url+"/admin/question/".concat(r,"/answer/").concat(n),{headers:this.headers});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),renameAnswer:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch(this.url+"/admin/answer",{answer:t,action:"rename"},{headers:this.headers});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),moveAnswer:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch(this.url+"/admin/answer",{index:t,direction:n,questionId:r,action:"move"},{headers:this.headers});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,n,r){return e.apply(this,arguments)}return t}()},B={name:"answer",props:["answer"],data:function(){return{}},methods:{edit:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.$props.answer.editing){e.next=4;break}return e.next=4,J.renameAnswer(this.$props.answer);case 4:this.$props.answer.editing=!this.$props.answer.editing,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$snackbar.open({message:"Une erreur est survenue lors de l'édition du nom.",type:"is-danger"});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),destroy:function(){var e=confirm("Supprimer la réponse ? Cette action est irréversible.");e&&this.$emit("destroy")},move:function(e){this.$emit("move",e)}},computed:{editMessage:function(){return this.$props.answer.editing?"Valider":"Modifier"},editClass:function(){return this.$props.answer.editing?"is-success":""}}},L=B,W=Object(u["a"])(L,N,F,!1,null,null,null),G=W.exports,H={name:"question",components:{Answer:G},props:["question"],data:function(){return{answers:this.$props.question.answers,adding:!1,answer:{name:null,explanation:null},defaultOpenedDetails:[]}},methods:{edit:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.$props.question.editing){e.next=4;break}return e.next=4,J.renameQuestion(this.$props.question);case 4:this.$props.question.editing=!this.$props.question.editing,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$snackbar.open({message:"Une erreur est survenue lors de l'édition du nom.",type:"is-danger"});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),toggle:function(e){this.$refs.answers.toggleDetails(e)},destroy:function(){var e=confirm("Supprimer la question ? Cette action est irréversible.");e&&this.$emit("destroy")},destroyAnswer:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.destroyAnswer({index:t,questionId:this.$props.question.id});case 3:this.answers.splice(t,1),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$snackbar.open({message:"Une erreur est survenue lors de la suppression de la catégorie.",type:"is-danger"});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}(),move:function(e){this.$emit("move",e)},moveAnswer:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.moveAnswer(t,n,this.$props.question.id);case 3:(t||"down"==n)&&this.answers.splice(t+("up"==n?-1:1),0,this.answers.splice(t,1)[0]),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$snackbar.open({message:"Une erreur est survenue lors de cette action.",type:"is-danger"});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(t,n){return e.apply(this,arguments)}return t}(),add:function(){this.adding=!0},createAnswer:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,J.createAnswer(Object(I["a"])({},this.answer,{questionId:this.$props.question.id}));case 4:n=e.sent,this.answers.push(Object(I["a"])({},n,{editing:!1,answers:[]})),this.answer.name=null,e.next=14;break;case 9:e.prev=9,e.t0=e["catch"](1),r="Une erreur est survenue lors de la création de la réponse.",e.t0.response&&"Validation error"==e.t0.response.data&&(r="Cette réponse existe déjà."),this.$snackbar.open({message:r,type:"is-danger"});case 14:case"end":return e.stop()}},e,this,[[1,9]])}));function t(t){return e.apply(this,arguments)}return t}(),cancel:function(e){e.preventDefault(),this.adding=!1}},computed:{editMessage:function(){return this.$props.question.editing?"Valider":"Modifier"},editClass:function(){return this.$props.question.editing?"is-success":""}}},K=H,X=Object(u["a"])(K,P,z,!1,null,null,null),Y=X.exports,Z={name:"category",components:{Question:Y},props:["category"],data:function(){return{questions:this.$props.category.questions,adding:!1,question:{name:null},defaultOpenedDetails:[]}},methods:{edit:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.$props.category.editing){e.next=4;break}return e.next=4,J.renameCategory(this.$props.category);case 4:this.$props.category.editing=!this.$props.category.editing,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$snackbar.open({message:"Une erreur est survenue lors de l'édition du nom.",type:"is-danger"});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),toggle:function(e){this.$refs.questions.toggleDetails(e)},destroy:function(){var e=confirm("Supprimer la catégorie ? Cette action est irréversible.");e&&this.$emit("destroy")},destroyQuestion:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.destroyQuestion({index:t,categoryId:this.$props.category.id});case 3:this.questions.splice(t,1),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$snackbar.open({message:"Une erreur est survenue lors de la suppression de la catégorie.",type:"is-danger"});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}(),move:function(e){this.$emit("move",e)},moveQuestion:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.moveQuestion(t,n,this.$props.category.id);case 3:(t||"down"==n)&&this.questions.splice(t+("up"==n?-1:1),0,this.questions.splice(t,1)[0]),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$snackbar.open({message:"Une erreur est survenue lors de cette action.",type:"is-danger"});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(t,n){return e.apply(this,arguments)}return t}(),add:function(){this.adding=!0},createQuestion:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,J.createQuestion(Object(I["a"])({},this.question,{categoryId:this.$props.category.id}));case 4:n=e.sent,this.questions.push(Object(I["a"])({},n,{editing:!1,answers:[]})),this.question.name=null,e.next=14;break;case 9:e.prev=9,e.t0=e["catch"](1),r="Une erreur est survenue lors de la création de la question.",e.t0.response&&"Validation error"==e.t0.response.data&&(r="Cette question existe déjà."),this.$snackbar.open({message:r,type:"is-danger"});case 14:case"end":return e.stop()}},e,this,[[1,9]])}));function t(t){return e.apply(this,arguments)}return t}(),cancel:function(e){e.preventDefault(),this.adding=!1}},computed:{editMessage:function(){return this.$props.category.editing?"Valider":"Modifier"},editClass:function(){return this.$props.category.editing?"is-success":""}}},ee=Z,te=Object(u["a"])(ee,T,V,!1,null,null,null),ne=te.exports,re={name:"editor",components:{Category:ne},data:function(){return{categories:[],category:{name:null},defaultOpenedDetails:[]}},mounted:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.getForm();case 3:t=e.sent,this.categories=t.map(function(e){return e.questions=e.questions.map(function(e){return e.answers=e.answers.map(function(e){return Object(I["a"])({},e,{editing:!1})}),Object(I["a"])({},e,{editing:!1})}),Object(I["a"])({},e,{editing:!1})}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$snackbar.open({message:"Une erreur est survenue lors du chargement des données.",type:"is-danger"});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{toggle:function(e){this.$refs.categories.toggleDetails(e)},createCategory:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,J.createCategory(this.category);case 4:n=e.sent,this.categories.push(Object(I["a"])({},n,{editing:!1,questions:[]})),this.category.name=null,e.next=14;break;case 9:e.prev=9,e.t0=e["catch"](1),r="Une erreur est survenue lors de la création de la catégorie.",e.t0.response&&"Validation error"==e.t0.response.data&&(r="Cette catégorie existe déjà."),this.$snackbar.open({message:r,type:"is-danger"});case 14:case"end":return e.stop()}},e,this,[[1,9]])}));function t(t){return e.apply(this,arguments)}return t}(),destroyCategory:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.destroyCategory({index:t});case 3:this.categories.splice(t,1),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$snackbar.open({message:"Une erreur est survenue lors de la suppression de la catégorie.",type:"is-danger"});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}(),moveCategory:function(){var e=Object(U["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.moveCategory(t,n);case 3:(t||"down"==n)&&this.categories.splice(t+("up"==n?-1:1),0,this.categories.splice(t,1)[0]),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$snackbar.open({message:"Une erreur est survenue lors de cette action.",type:"is-danger"});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(t,n){return e.apply(this,arguments)}return t}()}},se=re,ae=Object(u["a"])(se,E,Q,!1,null,null,null),ie=ae.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Profils - en cours de construction")])},ue=[],ce={},le=Object(u["a"])(ce,oe,ue,!1,null,null,null),de=le.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Visualisation - en cours de construction")])},me=[],he={},fe=Object(u["a"])(he,pe,me,!1,null,null,null),ve=fe.exports;r["default"].use(d["a"]);var ge=new d["a"]({mode:"history",base:"/",linkExactActiveClass:"is-active",routes:[{path:"/connexion",name:"connexion",component:x},{path:"/",component:S,children:[{path:"",component:ie,name:"editor"},{path:"profils",component:de,name:"profiles"},{path:"visualisation",component:ve,name:"visualization"}],beforeEnter:function(e,t,n){n(!!m.state.logged||"/connexion")}},{path:"/deconnexion",name:"logout",beforeEnter:function(e,t,n){m.dispatch("logout"),n("/connexion")}},{path:"**",redirect:"/"}]}),be=n("8a03"),we=n.n(be);r["default"].use(we.a),r["default"].config.productionTip=!1,new r["default"]({router:ge,store:m,render:function(e){return e(l)}}).$mount("#app")},6294:function(e,t,n){"use strict";var r=n("7fba"),s=n.n(r);s.a},"7fba":function(e,t,n){}});
//# sourceMappingURL=app.4e668198.js.map